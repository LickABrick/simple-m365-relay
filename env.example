# Copy to .env and edit

# Postfix identity
RELAY_HOSTNAME=relay.example.internal
RELAY_DOMAIN=example.internal

# Allow clients on these networks to relay without SMTP AUTH
RELAY_MYNETWORKS=127.0.0.0/8, 192.168.1.0/24

# Inbound TLS policy
# port 25: none|may|encrypt
RELAY_SMTPD_TLS_LEVEL_25=may
# port 587 (submission): encrypt recommended
RELAY_SMTPD_TLS_LEVEL_587=encrypt

# Self-signed TLS (or mount your own cert+key to the volume and set paths)
RELAY_TLS_GENERATE_SELF_SIGNED=true
RELAY_TLS_CERT_PATH=/data/certs/tls.crt
RELAY_TLS_KEY_PATH=/data/certs/tls.key
RELAY_TLS_SELF_SIGNED_CN=relay.example.internal

# Microsoft 365 relay
RELAYHOST=[smtp.office365.com]:587
MS365_SMTP_USER=postfix@yourtenant.onmicrosoft.com

# Entra App (device flow)
MS365_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MS365_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# UI
UI_BIND=0.0.0.0
UI_PORT=8000
